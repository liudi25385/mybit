// å‡†å¤‡è¯„è®ºçš„æ•°æ®ç±»
@Observed
export class CommentData {
  avatar: string; // å¤´åƒ
  name: string; // æ˜µç§°
  level: number; //ç”¨æˆ·ç­‰çº§
  likeNum: number; //ç‚¹èµæ•°é‡
  commentTxt: string; //è¯„è®ºå†…å®¹
  isLike: boolean; //æ˜¯å¦å–œæ¬¢
  levelIcon: Resource // levelç­‰çº§
  timeString: string // å‘å¸ƒæ—¶é—´-åŸºäºæ—¶é—´æˆ³å¤„ç†å,å±•ç¤ºç»™ç”¨æˆ·çœ‹çš„å±æ€§(2å¤©å‰)
  time: number // æ—¶é—´æˆ³-æ•°å­—æ ¼å¼çš„æ—¥æœŸ

  constructor(avatar: string, name: string, time: number, level: number, lickNum: number, commentTxt: string, isLike: boolean, ) {
    this.avatar = avatar
    this.name = name
    this.timeString = this.convertTime(time) // æ‹¿åˆ°çš„æ—¶é—´æ ¼å¼, é€šå¸¸æ˜¯æ—¶é—´æˆ³çš„æ ¼å¼  1645820201123
    this.time = time
    this.level = level
    this.likeNum = lickNum
    this.commentTxt = commentTxt
    this.isLike = isLike
    this.levelIcon = this.convertLevel(this.level) // åŸºäºç­‰çº§æ•°å­—, è½¬æ¢æˆå›¾ç‰‡è·¯å¾„
  }

  convertTime(timestamp: number) {
    // è·å–å½“å‰çš„æ—¶é—´æˆ³
    const currentTimestamp = new Date().getTime();
    const timeDifference = (currentTimestamp - timestamp) / 1000; // è½¬æ¢ä¸ºç§’

    if (timeDifference < 5 || timeDifference == 0) {
      return "åˆšåˆš";
    } else if (timeDifference < 60) {
      return `${Math.floor(timeDifference)}ç§’å‰`;
    } else if (timeDifference < 3600) {
      return `${Math.floor(timeDifference / 60)}åˆ†é’Ÿå‰`;
    } else if (timeDifference < 86400) {
      return `${Math.floor(timeDifference / 3600)}å°æ—¶å‰`;
    } else if (timeDifference < 604800) {
      return `${Math.floor(timeDifference / 86400)}å¤©å‰`;
    } else if (timeDifference < 2592000) {
      return `${Math.floor(timeDifference / 604800)}å‘¨å‰`;
    } else if (timeDifference < 31536000) {
      return `${Math.floor(timeDifference / 2592000)}ä¸ªæœˆå‰`;
    } else {
      return `${Math.floor(timeDifference / 31536000)}å¹´å‰`;
    }
  }

  // åŸºäºä¼ å…¥çš„level,è½¬æ¢æˆå›¾ç‰‡è·¯å¾„
  convertLevel(level: number) {
    const iconList = [
      $r('app.media.level_1'),
      $r('app.media.level_2'),
      $r('app.media.level_3'),
      $r('app.media.level_4'),
      $r('app.media.level_5'),
      $r('app.media.level_6'),
    ]
    return iconList[level]
  }
}

// å°è£…ä¸€ä¸ªæ–¹æ³•, åˆ›å»ºå‡æ•°æ®
export const createListRange = (): CommentData[] => {
  let result: CommentData[] = new Array()
  result = [
    new CommentData(`https://fastly.picsum.photos/id/770/600/600.jpg?hmac=tuK9EHg1ifTU3xKAiZj2nHSdWy4mk7enhylgOc2BW7E`, "é›ªå±±é£ç‹", 1645820201123, Math.floor(Math.random()*6) , Math.floor(Math.random()*100), '23å¹´ä¸€å¹´å¹²å®Œçš„äº‹ğŸ˜‚ğŸ˜‚ğŸ˜‚çœŸçš„éå¸¸ä»“ä¿ƒ', false),
    new CommentData(`https://fastly.picsum.photos/id/225/600/600.jpg?hmac=v97zt_t4mxeyMttX_m09pxhCvftiTxFR1MMBZi5HQxs`, "åƒçº¸é¹¤", 1677356201123, Math.floor(Math.random()*6) , Math.floor(Math.random()*100), 'Nettyå¯¹è±¡æ± æºç åˆ†ææ¥å•¦ï¼juejin.cnæ¬¢è¿ç‚¹èµ[å¥¸ç¬‘]', false),
    new CommentData(`https://fastly.picsum.photos/id/122/600/600.jpg?hmac=1oA93YbjYVt96DcJcGQ5PLthzjUsdtrnBQaM0USBozI`, "çƒŸé›¨æ±Ÿå—", 1688772201123, Math.floor(Math.random()*6) , Math.floor(Math.random()*100), 'æœ‰ä¸€ä¸ªä¸å¬åŠçš„Stable Diffusionå‡ºå›¾çš„å°ä¼™ä¼´ï¼Œæ‰¾æˆ‘ç»™å¥¹è£…å¡«è„‘ã€‚ ä¸€ä¸ªèµ„æ·±çš„ITå·¥ç¨‹å¸ˆä¸èƒ½å—è¿™ä¸ªå§”å±ˆã€‚', false),
    new CommentData(`https://fastly.picsum.photos/id/654/600/600.jpg?hmac=ewnK6Bx_MKQLJa9waZOV1xNO7--K5oSwCShtz1JDYw8`, "é­”æ³•å°ç²¾çµ", 1697484201123, Math.floor(Math.random()*6) , Math.floor(Math.random()*100), 'æœ‰ä¸€ç‚¹å¯ä»¥ç¡®ä¿¡ å‰åç«¯å¼€å‘ç•Œé™è¶Šæ¥è¶Šæ¨¡ç³Šã€‚åç«¯å¯ä»¥ä¸å†™ ä½†æ˜¯ä¸èƒ½ä¸ä¼šã€‚', false),
    new CommentData(`https://fastly.picsum.photos/id/345/600/600.jpg?hmac=EQflzbIadAglm0RzotyKXM2itPfC49fR3QE7eW_UaPo`, "ç‹¬è¡Œä¾ ", 1704067200000, Math.floor(Math.random()*6) , Math.floor(Math.random()*100), 'ä»Šå¤©çœ‹åˆ°ä¸€ä¸ªå¸–å­ï¼ŒæŒºæœ‰æ„æ€çš„ã€‚', false),
    new CommentData(`https://fastly.picsum.photos/id/905/600/600.jpg?hmac=DvIKicBZ45DEZoZFwdZ62VbmaCwkK4Sv7rwYzUvwweU`, "æ«å¶é£˜é›¶", 1706745600000, Math.floor(Math.random()*6) , Math.floor(Math.random()*100), 'æˆ‘æƒ³äº†æé’±çš„è·¯å­ï¼Œ 1ï¼šæŠ•èµ„ç†è´¢ï¼Œ åæ¥å‘ä¸‹ï¼Œä¸æŠ•èµ„å°±æ˜¯æœ€å¥½çš„ç†è´¢ï¼Œ 2ï¼šä¹°å½©ç¥¨ï¼Œåæ¥å‘ç°å½©ç¥¨éƒ½æ˜¯äººå®¶é¢„å®šå¥½çš„ï¼Œæ ¹æœ¬ä¸æ˜¯éšæœºçš„ï¼Œå’ï¼Œ 3ï¼šå¼€åº—åˆ›ä¸šï¼Œéš”è¡Œå¦‚éš”å±±ï¼Œå¼€åº—å¤±è´¥ï¼Œå’ã€‚', false),
    new CommentData(`https://fastly.picsum.photos/id/255/600/600.jpg?hmac=-lfdnAl71_eAIy1OPAupFFPh7EOJPmQRJFg-y7lRB3s`, "æ˜Ÿç©ºæ¼«æ­¥", 1707523200000, Math.floor(Math.random()*6) , Math.floor(Math.random()*100), 'ä¼˜èƒœåŠ£æ±°ï¼Œè‡ªç„¶é€‰æ‹©å§ï¼Œæ²¡ä»€ä¹ˆå¥½æ€ªçš„ã€‚éƒ½æ˜¯crudï¼Œæ‹›ä¸ªå¤§å­¦ç”Ÿå°±èƒ½å¹²äº†ã€‚', false),
    new CommentData(`https://fastly.picsum.photos/id/22/600/600.jpg?hmac=QEZq7KUHwBZCt3kGSEHMwJlZfnzCxCeBgHjYj7iQ-UY`, "å‰‘æŒ‡è‹ç©¹", 1708300800000, Math.floor(Math.random()*6) , Math.floor(Math.random()*100), 'ç™½å«–ChatGPT4çš„åŠŸèƒ½ã€‚ç„¶åï¼ŒæŠ±ç€è¯•ä¸€è¯•çš„æ€åº¦æŠŠç©äº†ä¸€ä¸‹ã€‚å‘ç°çœŸçš„å¥½ç”¨ã€‚', false),
    new CommentData(`https://fastly.picsum.photos/id/439/600/600.jpg?hmac=LC9k_bzrN0NhKRyV62fou3ix3cRFZKNfAyXgxGs6zh8`, "é»‘æš—ç‹å›½", 1708646400000, Math.floor(Math.random()*6) , Math.floor(Math.random()*100), 'å­—æ•°è¶Šå°‘ï¼Œäº‹æƒ…è¶Šå¤§ã€‚', false),
  ]
  return result
}


